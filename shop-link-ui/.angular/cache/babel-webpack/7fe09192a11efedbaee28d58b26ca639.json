{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { routerTransition } from '../router.animations';\nimport { UsermasterService } from '../shared/services/usermaster.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ToastrManager } from 'ng6-toastr-notifications';\nlet LoginComponent = class LoginComponent {\n  constructor(router, usermasterService, formBuilder, notificationMessages) {\n    this.router = router;\n    this.usermasterService = usermasterService;\n    this.formBuilder = formBuilder;\n    this.notificationMessages = notificationMessages;\n    this.waitSpinner = true;\n    this.showSpinner = false;\n    this.username = \"Riyaj\";\n    this.userpassword = \"1\";\n  }\n\n  ngOnInit() {\n    this.userLogin = this.formBuilder.group({\n      username: ['', [Validators.required]],\n      userpassword: ['', [Validators.required]]\n    });\n  }\n\n  get f() {\n    return this.userLogin.controls;\n  }\n\n  onLoggedin() {\n    this.submitted = true;\n\n    if (this.userLogin.invalid) {\n      return;\n    }\n\n    this.waitSpinner = false;\n    this.showSpinner = true;\n    localStorage.setItem('isLoggedin', 'false');\n    localStorage.setItem('userName', '');\n    localStorage.setItem('role', '');\n    localStorage.setItem('plantcode', '');\n    localStorage.setItem('plantAddress', '');\n    localStorage.setItem('department', '');\n    this.usermasterService.UserLogin(this.username, this.userpassword).subscribe(data => {\n      if (data != null) {\n        localStorage.setItem('isLoggedin', 'true');\n        localStorage.setItem('userName', data['userName']);\n        localStorage.setItem('role', data[\"Role\"]);\n        localStorage.setItem('plantcode', data[\"plantcode\"]);\n        localStorage.setItem('plantAddress', data[\"plantAddress\"]);\n        localStorage.setItem('department', data[\"department\"]);\n        this.router.navigate(['/dashboard']);\n        this.notificationMessages.successToastr(\"Welcome \" + localStorage.getItem(\"userName\") + \" :: All set to work.!\");\n      } else if (this.username == \"antech\" && this.userpassword == \"123\") {\n        localStorage.setItem('isLoggedin', 'true');\n        localStorage.setItem('userName', \"Antech\");\n        localStorage.setItem('role', \"Admininistrator\");\n        localStorage.setItem('plantcode', \"New User\");\n        localStorage.setItem('plantAddress', \"-\");\n        localStorage.setItem('department', \"Admin\");\n        this.router.navigate(['/dashboard']);\n        this.notificationMessages.successToastr(\"Welcome \" + localStorage.getItem(\"userName\") + \" :: All set to work.!\");\n      } else {\n        this.waitSpinner = true;\n        this.showSpinner = false;\n        this.notificationMessages.errorToastr('Username or password wrong!! Try again!!');\n        return;\n      }\n    });\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n  animations: [routerTransition()]\n}), __metadata(\"design:paramtypes\", [Router, UsermasterService, FormBuilder, ToastrManager])], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}